{% extends 'global/base.html' %}

{% block content %}
    <h1>Welcome to the Landing Page</h1>
    <form id="leadForm" method="post">
        {% csrf_token %}
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
        {% if form.errors.email %}
        <span style="color: red;">{{ form.errors.email }}</span>
        {% endif %}
        <br>
        <button type="submit">Submit</button>
    </form>

    <script>
        document.getElementById('leadForm').addEventListener('submit', function(event) {
            var email = document.getElementById('email').value;
            var emailError = document.getElementById('emailError');

            // Reset error message
            emailError.textContent = '';

            // Validate email format
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                emailError.textContent = 'Please enter a valid email address.';
                event.preventDefault(); // Prevent form submission
            }
        });
    </script>
{% endblock content %}